function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Dropdown=function(e){if("undefined"==typeof Popper)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var t="dropdown",n="4.0.0-beta",o="bs.dropdown",r="."+o,i=".data-api",a=e.fn[t],s=27,l=32,p=9,u=38,h=40,f=3,c=new RegExp(u+"|"+h+"|"+s),_={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+i,KEYDOWN_DATA_API:"keydown"+r+i,KEYUP_DATA_API:"keyup"+r+i},d={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left"},m={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},g={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},y={placement:g.BOTTOM,offset:0,flip:!0},E={placement:"string",offset:"(number|string)",flip:"boolean"},v=function(){function i(e,t){_classCallCheck(this,i),this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return i.prototype.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(d.DISABLED)){var t=i._getParentFromElement(this._element),n=e(this._menu).hasClass(d.SHOW);if(i._clearMenus(),!n){var o={relatedTarget:this._element},r=e.Event(_.SHOW,o);if(e(t).trigger(r),!r.isDefaultPrevented()){var a=this._element;e(t).hasClass(d.DROPUP)&&(e(this._menu).hasClass(d.MENULEFT)||e(this._menu).hasClass(d.MENURIGHT))&&(a=t),this._popper=new Popper(a,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!e(t).closest(m.NAVBAR_NAV).length&&e("body").children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(d.SHOW),e(t).toggleClass(d.SHOW).trigger(e.Event(_.SHOWN,o))}}}},i.prototype.dispose=function(){e.removeData(this._element,o),e(this._element).off(r),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},i.prototype.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i.prototype._addEventListeners=function(){var t=this;e(this._element).on(_.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i.prototype._getConfig=function(n){var o=e(this._element).data();return o.placement!==undefined&&(o.placement=g[o.placement.toUpperCase()]),n=e.extend({},this.constructor.Default,e(this._element).data(),n),Util.typeCheckConfig(t,n,this.constructor.DefaultType),n},i.prototype._getMenuElement=function(){if(!this._menu){var t=i._getParentFromElement(this._element);this._menu=e(t).find(m.MENU)[0]}return this._menu},i.prototype._getPlacement=function(){var t=e(this._element).parent(),n=this._config.placement;return t.hasClass(d.DROPUP)||this._config.placement===g.TOP?(n=g.TOP,e(this._menu).hasClass(d.MENURIGHT)&&(n=g.TOPEND)):e(this._menu).hasClass(d.MENURIGHT)&&(n=g.BOTTOMEND),n},i.prototype._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i.prototype._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(e.modifiers.applyStyle={enabled:!this._inNavbar}),e},i._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(o),r="object"===(void 0===t?"undefined":_typeof(t))?t:null;if(n||(n=new i(this,r),e(this).data(o,n)),"string"==typeof t){if(n[t]===undefined)throw new Error('No method named "'+t+'"');n[t]()}})},i._clearMenus=function(t){if(!t||t.which!==f&&("keyup"!==t.type||t.which===p))for(var n=e.makeArray(e(m.DATA_TOGGLE)),r=0;r<n.length;r++){var a=i._getParentFromElement(n[r]),s=e(n[r]).data(o),l={relatedTarget:n[r]};if(s){var u=s._menu;if(e(a).hasClass(d.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===p)&&e.contains(a,t.target))){var h=e.Event(_.HIDE,l);e(a).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),n[r].setAttribute("aria-expanded","false"),e(u).removeClass(d.SHOW),e(a).removeClass(d.SHOW).trigger(e.Event(_.HIDDEN,l)))}}}},i._getParentFromElement=function(t){var n=void 0,o=Util.getSelectorFromElement(t);return o&&(n=e(o)[0]),n||t.parentNode},i._dataApiKeydownHandler=function(t){if(!(!c.test(t.which)||/button/i.test(t.target.tagName)&&t.which===l||/input|textarea/i.test(t.target.tagName)||(t.preventDefault(),t.stopPropagation(),this.disabled||e(this).hasClass(d.DISABLED)))){var n=i._getParentFromElement(this),o=e(n).hasClass(d.SHOW);if(!o&&(t.which!==s||t.which!==l)||o&&(t.which===s||t.which===l)){if(t.which===s){var r=e(n).find(m.DATA_TOGGLE)[0];e(r).trigger("focus")}return void e(this).trigger("click")}var a=e(n).find(m.VISIBLE_ITEMS).get();if(a.length){var p=a.indexOf(t.target);t.which===u&&p>0&&p--,t.which===h&&p<a.length-1&&p++,p<0&&(p=0),a[p].focus()}}},_createClass(i,null,[{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return y}},{key:"DefaultType",get:function(){return E}}]),i}();return e(document).on(_.KEYDOWN_DATA_API,m.DATA_TOGGLE,v._dataApiKeydownHandler).on(_.KEYDOWN_DATA_API,m.MENU,v._dataApiKeydownHandler).on(_.CLICK_DATA_API+" "+_.KEYUP_DATA_API,v._clearMenus).on(_.CLICK_DATA_API,m.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),v._jQueryInterface.call(e(this),"toggle")}).on(_.CLICK_DATA_API,m.FORM_CHILD,function(e){e.stopPropagation()}),e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=a,v._jQueryInterface},v}(jQuery);